<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, height=device-height"/>
	<title>Wordclock</title>
	<script type="text/javascript" src="/webiopi.js"></script>
	<script type='application/javascript' src='/fastclick.js'></script>
	<script type="text/javascript">
		if ('addEventListener' in document) {
		    document.addEventListener('DOMContentLoaded', function() {
		        FastClick.attach(document.body);
		    }, false);
		}
	webiopi().ready(function() {
		webiopi().setFunction(7, "OUT");
		webiopi().setFunction(8, "OUT");
		webiopi().setFunction(11, "OUT");


		webiopi().digitalWrite(7, 0);
		webiopi().digitalWrite(8, 0);
		webiopi().digitalWrite(11, 0);
		

		var content, button;
		content = $("#content");
		
		var container = $('<div class="container">');
		var container2 = $('<div class="container">');

		button = webiopi().createButton("left", "Left", mousedown, mouseup);
        container.append(button);
		
		button = webiopi().createButton("right", "Right", mousedown, mouseup);
        container.append(button);

		button = webiopi().createButton("middle", "Middle", mousedown, mouseup);
        container2.append(button);	

		content.append(container);
		content.append(container2);
	});
		

	function mousedown(e) {
		var elementId = (e.target || e.srcElement).id;
		var gpio_pin = -1;
		if(elementId === "left")
			gpio_pin = 7;
		else if(elementId === "middle")
			gpio_pin = 8;
		else if(elementId === "right")
			gpio_pin = 11;	
		webiopi().digitalWrite(gpio_pin, 1);
	}

	function mouseup(e) {
		var elementId = (e.target || e.srcElement).id;
		var gpio_pin = -1;
		if(elementId === "left")
			gpio_pin = 7;
		else if(elementId === "middle")
			gpio_pin = 8;
		else if(elementId === "right")
			gpio_pin = 11;	

		setTimeout(function() {
                webiopi().digitalWrite(gpio_pin, 0);
        }, 150);
	}

	
	
	</script>
	<style type="text/css">
		button {
			flex-grow: 1;			
			margin:5px;
			width: 160px;
			height: 160px;
			font-size: 16pt;
			font-weight: bold;
			background-color: #eee;
			color: #eee;
			border-color: transparent;
			border-radius: 10px;
			border: none;
		}
			
		.container {
			justify-content: center;		
			width: auto;			
		  	display: flex;		  	
		  	flex-direction: row;		  	
		}â€‹

		.

		body {
			background-color: #f0f0f0;	
		}

		#logo2 { 		    
		    width: 30px;
		    height: 30px;		    
		}
		#logo2 img {
   			height: 100%;
		}
		

		.header {			
			flex-direction: row;
			display: flex;
    		justify-content: center;
			width: auto;				
		}
	</style>
</head>
<body>
	<div class="header">		
		<div id="logo2">
			<img src="wordclock/raspberry.png"></img>
		</div>	
	</div>	
	<div id="content"></div>
</body>
</html>
